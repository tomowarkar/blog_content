<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="initial-scale=1.0"/>
    <title>モーション0000</title>
		<style>
    .box {
      width: 100px;
      height: 100px;
      background: white;
      cursor: pointer;
    }
  </style>
    <script>
      'use strict';
      var vect = {x:0, y:0, z:0};
	    var vectlogs = [];

      window.addEventListener("devicemotion", function(e){
				Devicemotion(e)
			}, true);

      function Devicemotion(e){
        vect.x = e.accelerationIncludingGravity.x;
        vect.y = e.accelerationIncludingGravity.y;
        vect.z = e.accelerationIncludingGravity.z;

        dx, dz = Judgement();
        vectlogs.push(vect);

        Reloadresult1(dx, dz);
      }
      function Reloadresult1(dx, dz){
        var result1 = document.getElementById("result1");
        result1.innerHTML =
          "X："+ Math.round(vect.x * 10) / 10 +"<br>" +
          "Y："+ Math.round(vect.y * 10) / 10 +"<br>" +
          "Z："+ Math.round(vect.z * 10) / 10 +"<br>" +
          vectlogs.length +"<br>" +
	      dx +"<br>" + dz;
      }
      function Judgement(){
        //if (vectlogs.length > 1000) {ivectlogs.splice(0, vectlogs.length-1000)}

        var dx = vectlogs[vectlogs.length].x - vectlogs[vectlogs.length - 1000].x;
        var dz = vectlogs[vectlogs.length].z - vectlogs[vectlogs.length - 1000].z;

        return dx, dz


      }

    </script>
  </head>
  <body>
		<div class="box" id="target"></div>
    <div id="result1"></div>
    <div id="result2"></div>
  </body>
</html>
