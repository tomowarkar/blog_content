<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="initial-scale=1.0"/>
    <title>モーション</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js" type="text/javascript"></script>
    <script>
      'use strict';
      var vect = {x:0, y:0, z:0};
      window.addEventListener("devicemotion", function(e){
				Devicemotion(e)
			}, true);

      function Devicemotion(e){
        vect.x = e.accelerationIncludingGravity.x;
        vect.y = e.accelerationIncludingGravity.y;
        vect.z = e.accelerationIncludingGravity.z;
        Judge()
        Reloadresult1()
      }

      function Reloadresult1(){
        var result1 = document.getElementById("result1");

        result1.innerHTML =
          "X："+ Math.round(vect.x * 10) / 10 +"<br>" +
          "Y："+ Math.round(vect.y * 10) / 10 +"<br>" +
          "Z："+ Math.round(vect.z * 10) / 10;
      }

      function Judge(){
        var nijo = vect.x**2 + vect.y**2 + vect.z**2;

        if(nijoz>110){
          Vibrate()
        }
      }

      function Vibrate(){
        window.addEventListener("load", function(){
          document.getElementById("vibrate").addEventListener("click", function(){
            navigator.mozVibrate(3000);
            //navigator.vibrate(3000);
          }, true);
        }, true);
      }


    </script>
  </head>
  <body>
    <div id="result1">non</div>
  </body>
</html>
