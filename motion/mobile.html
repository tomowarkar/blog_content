<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="initial-scale=1.0"/>
    <title>モーション0000</title>
		<style>
    .box {
      width: 100px;
      height: 100px;
      background: gray;
      cursor: pointer;
    }
  </style>
    <script>
      'use strict';
      var vect = {x:0, y:0, z:0};
	    var vectxlogs = [];

      window.addEventListener("devicemotion", function(e){
				Devicemotion(e)
			}, true);

      function Devicemotion(e){
        vect.x = e.accelerationIncludingGravity.x;
        vect.y = e.accelerationIncludingGravity.y;
        vect.z = e.accelerationIncludingGravity.z;

	vectxlogs.push(vect.x);
        Reloadresult1()
      }
      function Reloadresult1(){
        var dxend = vectxlogs[vectxlogs.length - 1].x;
        var dx = 0;
        if (vectxlogs.length>300){
          dx = parseInt(vectxlogs[vectxlogs.length - 300]) - parseInt(vectxlogs[vectxlogs.length - 1]);
        }


        var result1 = document.getElementById("result1");
        result1.innerHTML =
          "X："+ Math.round(vect.x * 10) / 10 +"<br>" +
          "Y："+ Math.round(vect.y * 10) / 10 +"<br>" +
          "Z："+ Math.round(vect.z * 10) / 10 +"<br>" +
		vectxlogs.length + "<br>" + dx;
      }

    </script>
  </head>
  <body>
		<div class="box" id="target"></div>
    <div id="result1"></div>
    <div id="result2"></div>
  </body>
</html>
